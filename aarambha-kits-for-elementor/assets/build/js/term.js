(()=>{"use strict";var e,t;e=jQuery,jQuery(document).on("click","input.select-img",(function(i){var a=e(this);i.preventDefault();var s=wp.media.controller.Library.extend({defaults:_.defaults({id:"custom-theme-insert-image",title:a.data("uploader_title"),allowLocalEdits:!1,displaySettings:!0,displayUserSettings:!1,multiple:!1,library:wp.media.query({type:"image"})},wp.media.controller.Library.prototype.defaults)});(t=wp.media.frames.custom_theme_file_frame=wp.media({button:{text:jQuery(this).data("uploader_button_text")},state:"custom-theme-insert-image",states:[new s],multiple:!1})).on("select",(function(){var e=t.state("custom-theme-insert-image"),i=e.get("selection"),s=e.display(i.first()).toJSON(),l=i.first().toJSON();s=wp.media.string.props(s,l);var n=a.siblings(".img"),r=s.src;n.val(r),n.trigger("change");var o='<img src="'+r+'" alt="" style="width:200px;height:auto;" />';a.siblings(".image-preview-wrap").html(o),a.siblings(".btn-image-remove").css("display","inline-block")})),t.open()})),jQuery(document).on("click","input.btn-image-remove",(function(t){t.preventDefault();var i=e(this),a=i.siblings(".img");a.val(""),i.siblings(".image-preview-wrap").html(""),i.css("display","none"),a.trigger("change")})),e(".image-upload-button").click((function(){event.preventDefault();var t,i=e(this).closest(".image-fields-wrap").find(".thumbnail-image .image-container"),a=e(this).closest(".image-fields-wrap").find(".image-delete-button"),s=e(this).siblings(".upload-id");(t=wp.media({title:AARAMBHA_KITS.upload_image,button:{text:AARAMBHA_KITS.use_image},multiple:!1})).on("select",(function(){var e=t.state().get("selection").first().toJSON();i.html('<img src="'+e.url+'" style="width:200px;height:auto;" />'),a.addClass("image-show"),s.val(e.url).trigger("change")})),t.open()})),e(".image-delete-button").click((function(){event.preventDefault();var t=e(this).closest(".image-fields-wrap").find(".thumbnail-image .image-container"),i=e(this).closest(".image-fields-wrap").find(".image-delete-button"),a=e(this).closest(".image-fields-wrap").find(".upload-id");t.find("img").remove(),i.removeClass("image-show"),a.val("").trigger("change")})),e(document).ajaxSuccess((function(t,i,a){var s;"string"==typeof(s=a.data)&&(s=s.split("&")).includes("action=add-tag")&&s.includes("screen=edit-category")&&s.includes("taxonomy=category")&&(e(".image-delete-button").removeClass("image-show"),e(".upload-id").attr("value",""),e(".image-container").empty())})),jQuery(document).ready((function(e){e(".colorpicker").wpColorPicker()}))})();